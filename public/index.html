<!DOCTYPE html>
<html lang="en" ng-app="fridgeController">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="">
        <meta name="author" content="">
        <link rel="icon" href="../../favicon.ico">

        <title>Radar Brewing Company</title>

        <!-- Bootstrap core CSS -->
        <link href="//maxcdn.bootstrapcdn.com/bootswatch/3.2.0/flatly/bootstrap.min.css" rel="stylesheet">
        <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

        <!-- Custom styles -->
        <style>
            body {

                /* min-height: 2000px; */
                padding-top: 20px;
                background-repeat: no-repeat;
                background-attachment: fixed;
                background-image: -webkit-linear-gradient(top right, #FFFFFF 0%, #8A8A8A 100%);
            }
            i {
                cursor: pointer;
            }
        </style>
    </head>

    <body ng-controller="mainController">
        <!-- configuration modal -->
        <div class="modal fade" id="configuration_modal">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                        <h4 class="modal-title">Confguration Settings</h4>
                    </div>
                    <div class="modal-body">

                        <!-- temperature probes -->
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                <h3 class="panel-title">Temperature Probes</h3>
                            </div>
                            <div class="panel-body">

                                <div class="form-group">
                                    <label for="beerTempProbe">Beer</label>
                                    <select class="form-control" id="beerTempProbe"></select>
                                </div>
                                <div class="form-group">
                                    <label for="refrigeratorTempProbe">Refrigerator</label>
                                    <select class="form-control" id="refrigeratorTempProbe"></select>
                                </div>
                            </div>
                        </div>


                        <div id="config-save-success" class="panel panel-default hidden">
                            <div class="panel-body bg-success">
                                Your changes have been saved successfully.
                            </div>
                        </div>

                        <div id="config-save-error" class="panel panel-default hidden">
                            <div class="panel-body bg-danger">
                                There was an error saving your changes.
                            </div>
                        </div>

                        <div id="validation-not-unique-error" class="panel panel-default hidden">
                            <div class="panel-body bg-danger">
                                Each temperature must have a unique probe assigned.  Please ensure uniqueness, or remove the probe.
                            </div>
                        </div>



                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-primary" id="save-configuration" ng-click="saveConfiguration()">Save changes</button>
                    </div>
                </div><!-- /.modal-content -->
            </div><!-- /.modal-dialog -->
        </div><!-- /.modal -->



        <!-- main body content -->
        <div class="container">

            <div class="row">
                <div class="pull-right"><i data-toggle="modal" data-target="#configuration_modal" class="fa fa-cog" ng-click="getProbeInfo()" ></i></div>
            </div>
            <div class="row">
                <div class="col-md-6 col-md-offset-3">
                    <label>B</label>
                    <span style="font-size:120pt" data-toggle="tooltip" data-placement="top" onmouseover="javascript:toCelcius(this, {{temperatures.beer}});"  title="">{{ temperatures.beer }}°</span>
                    <hr>
                </div>
            </div>
            <div class="row">

                <div class="col-md-3 col-md-offset-3">
                    <label>F</label>
                    <span style="font-size:80pt" data-toggle="tooltip" data-placement="top" title="Tooltip on top">{{ temperatures.refrigerator }}</span>
                </div>
                <div class="col-md-3">
                    <div class="row">
                        <div class="col-md-9">
                            <label>S</label>
                            <span style="font-size:80pt" data-toggle="tooltip" data-placement="top" title="Tooltip on top">{{ setPoint }}°</span>
                        </div>
                        <div class="col-md-3">
                            <br/><br/>
                            <p><i class="fa fa-chevron-up" ng-click="changeSetPoint(1)" ></i></p>
                            <br/>
                            <p><i class="fa fa-chevron-down" ng-click="changeSetPoint(-1)" ></i></p>
                        </div>
                    </div>
                </div>
                <div class="col-md-3 col-md-offset-3">
                    <br/>
                    <small>Last updated {{ lastUpdated }} seconds ago.</small>
                </div>

            </div>


        </div> <!-- /container -->


        <!-- Bootstrap core JavaScript
        ================================================== -->
        <!-- Placed at the end of the document so the pages load faster -->
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
        <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
        <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.8/angular.min.js"></script>
        <script src="/fridge-controller.js"></script>
    </body>
</html>
